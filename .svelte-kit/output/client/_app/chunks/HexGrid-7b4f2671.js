import{S as K,i as z,s as Q,e as y,k as C,c as v,a as I,d as g,m as M,b as _,g as E,J as p,H as T,q as d,a6 as ee,t as _e,h as me,O as q,G as ge,j as de,L as U,a1 as j,W as J,K as D,n as L,a7 as pe,a8 as ye,p as S,o as k,w as P,x as O,y as B,B as R,l as F,a9 as he}from"./vendor-301d67fd.js";import{g as ve,c as ke,a as be}from"./gridCalc-cc30539c.js";function Ee(a){let e,i,l,t,s,r,o,n;return{c(){e=y("div"),i=y("div"),l=C(),t=y("div"),s=C(),r=y("div"),o=C(),n=y("div"),this.h()},l(f){e=v(f,"DIV",{class:!0,"data-testid":!0});var c=I(e);i=v(c,"DIV",{class:!0}),I(i).forEach(g),l=M(c),t=v(c,"DIV",{class:!0}),I(t).forEach(g),s=M(c),r=v(c,"DIV",{class:!0}),I(r).forEach(g),o=M(c),n=v(c,"DIV",{class:!0}),I(n).forEach(g),c.forEach(g),this.h()},h(){_(i,"class","svelte-b7aws"),_(t,"class","svelte-b7aws"),_(r,"class","svelte-b7aws"),_(n,"class","svelte-b7aws"),_(e,"class","lds-ring svelte-b7aws"),_(e,"data-testid","loading-spinner")},m(f,c){E(f,e,c),p(e,i),p(e,l),p(e,t),p(e,s),p(e,r),p(e,o),p(e,n)},p:T,i:T,o:T,d(f){f&&g(e)}}}class we extends K{constructor(e){super();z(this,e,null,Ee,Q,{})}}function Ie(a){let e,i,l,t,s,r,o,n,f,c,h,m,u,N,w,G=("TagTypeId"in a[5]?a[5].Name.split("-").pop():a[5].Name)+"",b,H,W,Y;return{c(){e=y("a"),i=y("picture"),l=y("source"),s=C(),r=y("img"),f=C(),c=y("img"),u=C(),N=y("div"),w=y("h3"),b=_e(G),this.h()},l(A){e=v(A,"A",{"sveltekit:prefetch":!0,class:!0,href:!0});var x=I(e);i=v(x,"PICTURE",{class:!0});var V=I(i);l=v(V,"SOURCE",{srcset:!0,type:!0,"data-testid":!0,class:!0}),s=M(V),r=v(V,"IMG",{src:!0,alt:!0,"data-testid":!0,class:!0}),V.forEach(g),f=M(x),c=v(x,"IMG",{src:!0,alt:!0,class:!0}),u=M(x),N=v(x,"DIV",{class:!0});var Z=I(N);w=v(Z,"H3",{"data-testid":!0,class:!0});var $=I(w);b=me($,G),$.forEach(g),Z.forEach(g),x.forEach(g),this.h()},h(){_(l,"srcset",t=`https://enki.imgix.net/${a[5].Id}?auto=format,compress`),_(l,"type","image/jpg"),_(l,"data-testid","hex-image"),_(l,"class","svelte-18nay2r"),q(r.src,o="https://enki.imgix.net/faith.jpg?auto=format,compress")||_(r,"src",o),_(r,"alt","placeholder"),_(r,"data-testid","hex-image-fallback"),_(r,"class","svelte-18nay2r"),_(i,"class","svelte-18nay2r"),q(c.src,h=`https://enki.imgix.net/hex_${Math.floor(Math.random()*(6-1+1)+1)}.svg`)||_(c,"src",h),_(c,"alt","hexagon shape for the category button"),_(c,"class","svelte-18nay2r"),_(w,"data-testid","hex-category-name"),_(w,"class","svelte-18nay2r"),_(N,"class","category-name svelte-18nay2r"),_(e,"sveltekit:prefetch",""),_(e,"class","hex-link svelte-18nay2r"),_(e,"href",H=a[2](a[5]))},m(A,x){E(A,e,x),p(e,i),p(i,l),a[7](l),p(i,s),p(i,r),a[8](r),p(e,f),p(e,c),p(e,u),p(e,N),p(N,w),p(w,b),W||(Y=ge(r,"error",a[9]),W=!0)},p(A,x){x&32&&t!==(t=`https://enki.imgix.net/${A[5].Id}?auto=format,compress`)&&_(l,"srcset",t),x&32&&G!==(G=("TagTypeId"in A[5]?A[5].Name.split("-").pop():A[5].Name)+"")&&de(b,G),x&36&&H!==(H=A[2](A[5]))&&_(e,"href",H)},i(A){n||U(()=>{n=j(i,J,{duration:800}),n.start()}),A&&(m||U(()=>{m=j(c,J,{duration:800}),m.start()}))},o:T,d(A){A&&g(e),a[7](null),a[8](null),W=!1,Y()}}}function Ne(a){let e,i,l,t;return{c(){e=y("div"),i=y("img"),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=I(e);i=v(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(g),this.h()},h(){q(i.src,l="https://enki.imgix.net/empty_hex_3.png?auto=format,compress")||_(i,"src",l),_(i,"alt","hexagon shape for the category button"),_(i,"class","svelte-18nay2r"),_(e,"class","hex-link svelte-18nay2r")},m(s,r){E(s,e,r),p(e,i)},p:T,i(s){t||U(()=>{t=j(i,J,{duration:800}),t.start()})},o:T,d(s){s&&g(e)}}}function Ae(a){let e;function i(s,r){return s[3]?Ne:Ie}let l=i(a),t=l(a);return{c(){e=y("div"),t.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=I(e);t.l(r),r.forEach(g),this.h()},h(){_(e,"class","hex-in svelte-18nay2r")},m(s,r){E(s,e,r),t.m(e,null)},p(s,[r]){l===(l=i(s))&&t?t.p(s,r):(t.d(1),t=l(s),t&&(t.c(),d(t,1),t.m(e,null)))},i(s){d(t)},o:T,d(s){s&&g(e),t.d()}}}function Fe(a,e,i){const l=u=>{i(1,f[u].onerror=null,f),i(0,n[u].srcset=f[u].src,n)};let{categoryFn:t}=e,{isEmpty:s=!1}=e,{idx:r=0}=e,{category:o={Name:"",Id:0,ParentId:0,Children:[],NominalCode:null}}=e,{sourceElemArr:n=[]}=e,{imgElemArr:f=[]}=e;function c(u){ee[u?"unshift":"push"](()=>{n[r]=u,i(0,n)})}function h(u){ee[u?"unshift":"push"](()=>{f[r]=u,i(1,f)})}const m=()=>l(r);return a.$$set=u=>{"categoryFn"in u&&i(2,t=u.categoryFn),"isEmpty"in u&&i(3,s=u.isEmpty),"idx"in u&&i(4,r=u.idx),"category"in u&&i(5,o=u.category),"sourceElemArr"in u&&i(0,n=u.sourceElemArr),"imgElemArr"in u&&i(1,f=u.imgElemArr)},[n,f,t,s,r,o,l,c,h,m]}class X extends K{constructor(e){super();z(this,e,Fe,Ae,Q,{categoryFn:2,isEmpty:3,idx:4,category:5,sourceElemArr:0,imgElemArr:1})}}const xe=a=>"ParentId"in a&&"Children"in a&&"NominalCode"in a,Ce=a=>"TagTypeId"in a;function te(a,e,i){const l=a.slice();return l[14]=e[i],l[16]=i,l}function le(a,e,i){const l=a.slice();return l[17]=e[i],l}function re(a,e,i){const l=a.slice();return l[17]=e[i],l}function Me(a){let e,i=[],l=new Map,t,s,r=a[4];const o=f=>f[14].Id;for(let f=0;f<r.length;f+=1){let c=te(a,r,f),h=o(c);l.set(h,i[f]=ue(h,c))}let n=null;return r.length||(n=ie()),{c(){e=y("ul");for(let f=0;f<i.length;f+=1)i[f].c();n&&n.c(),this.h()},l(f){e=v(f,"UL",{class:!0});var c=I(e);for(let h=0;h<i.length;h+=1)i[h].l(c);n&&n.l(c),c.forEach(g),this.h()},h(){_(e,"class",t=D(a[6]?"root-categories-container":a[1]?"flexbox-container":"flexbox-container flexbox-container-no-height")+" svelte-p0kxbr")},m(f,c){E(f,e,c);for(let h=0;h<i.length;h+=1)i[h].m(e,null);n&&n.m(e,null),s=!0},p(f,c){c&509&&(r=f[4],L(),i=pe(i,c,o,1,f,r,l,e,ye,ue,null,te),S(),r.length?n&&(L(),k(n,1,1,()=>{n=null}),S()):n||(n=ie(),n.c(),d(n,1),n.m(e,null))),(!s||c&66&&t!==(t=D(f[6]?"root-categories-container":f[1]?"flexbox-container":"flexbox-container flexbox-container-no-height")+" svelte-p0kxbr"))&&_(e,"class",t)},i(f){if(!s){for(let c=0;c<r.length;c+=1)d(i[c]);s=!0}},o(f){for(let c=0;c<i.length;c+=1)k(i[c]);s=!1},d(f){f&&g(e);for(let c=0;c<i.length;c+=1)i[c].d();n&&n.d()}}}function ie(a){let e,i;return e=new we({}),{c(){P(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,t){B(e,l,t),i=!0},i(l){i||(d(e.$$.fragment,l),i=!0)},o(l){k(e.$$.fragment,l),i=!1},d(l){R(e,l)}}}function ne(a){let e,i,l=a[4].length>a[2]&&a[3].length&&se(a);return{c(){l&&l.c(),e=F()},l(t){l&&l.l(t),e=F()},m(t,s){l&&l.m(t,s),E(t,e,s),i=!0},p(t,s){t[4].length>t[2]&&t[3].length?l?(l.p(t,s),s&28&&d(l,1)):(l=se(t),l.c(),d(l,1),l.m(e.parentNode,e)):l&&(L(),k(l,1,1,()=>{l=null}),S())},i(t){i||(d(l),i=!0)},o(t){k(l),i=!1},d(t){l&&l.d(t),t&&g(e)}}}function se(a){let e,i,l=a[3].slice(0,Math.floor(a[3].length/2)),t=[];for(let r=0;r<l.length;r+=1)t[r]=ae(re(a,l,r));const s=r=>k(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=F()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=F()},m(r,o){for(let n=0;n<t.length;n+=1)t[n].m(r,o);E(r,e,o),i=!0},p(r,o){if(o&72){l=r[3].slice(0,Math.floor(r[3].length/2));let n;for(n=0;n<l.length;n+=1){const f=re(r,l,n);t[n]?(t[n].p(f,o),d(t[n],1)):(t[n]=ae(f),t[n].c(),d(t[n],1),t[n].m(e.parentNode,e))}for(L(),n=l.length;n<t.length;n+=1)s(n);S()}},i(r){if(!i){for(let o=0;o<l.length;o+=1)d(t[o]);i=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)k(t[o]);i=!1},d(r){he(t,r),r&&g(e)}}}function ae(a){let e,i,l,t,s;return i=new X({props:{isEmpty:!0}}),{c(){e=y("li"),P(i.$$.fragment),l=C(),this.h()},l(r){e=v(r,"LI",{class:!0});var o=I(e);O(i.$$.fragment,o),l=M(o),o.forEach(g),this.h()},h(){_(e,"class",t=D(a[6]?"hex":"hex-flex")+" svelte-p0kxbr")},m(r,o){E(r,e,o),B(i,e,null),p(e,l),s=!0},p(r,o){(!s||o&64&&t!==(t=D(r[6]?"hex":"hex-flex")+" svelte-p0kxbr"))&&_(e,"class",t)},i(r){s||(d(i.$$.fragment,r),s=!0)},o(r){k(i.$$.fragment,r),s=!1},d(r){r&&g(e),R(i)}}}function oe(a){let e,i,l=a[4].length>a[2]&&a[3].length&&ce(a);return{c(){l&&l.c(),e=F()},l(t){l&&l.l(t),e=F()},m(t,s){l&&l.m(t,s),E(t,e,s),i=!0},p(t,s){t[4].length>t[2]&&t[3].length?l?(l.p(t,s),s&28&&d(l,1)):(l=ce(t),l.c(),d(l,1),l.m(e.parentNode,e)):l&&(L(),k(l,1,1,()=>{l=null}),S())},i(t){i||(d(l),i=!0)},o(t){k(l),i=!1},d(t){l&&l.d(t),t&&g(e)}}}function ce(a){let e,i,l=a[3].slice(0,Math.ceil(a[3].length/2)),t=[];for(let r=0;r<l.length;r+=1)t[r]=fe(le(a,l,r));const s=r=>k(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=F()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=F()},m(r,o){for(let n=0;n<t.length;n+=1)t[n].m(r,o);E(r,e,o),i=!0},p(r,o){if(o&72){l=r[3].slice(0,Math.ceil(r[3].length/2));let n;for(n=0;n<l.length;n+=1){const f=le(r,l,n);t[n]?(t[n].p(f,o),d(t[n],1)):(t[n]=fe(f),t[n].c(),d(t[n],1),t[n].m(e.parentNode,e))}for(L(),n=l.length;n<t.length;n+=1)s(n);S()}},i(r){if(!i){for(let o=0;o<l.length;o+=1)d(t[o]);i=!0}},o(r){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)k(t[o]);i=!1},d(r){he(t,r),r&&g(e)}}}function fe(a){let e,i,l,t,s;return i=new X({props:{isEmpty:!0}}),{c(){e=y("li"),P(i.$$.fragment),l=C(),this.h()},l(r){e=v(r,"LI",{class:!0});var o=I(e);O(i.$$.fragment,o),l=M(o),o.forEach(g),this.h()},h(){_(e,"class",t=D(a[6]?"hex":"hex-flex")+" svelte-p0kxbr")},m(r,o){E(r,e,o),B(i,e,null),p(e,l),s=!0},p(r,o){(!s||o&64&&t!==(t=D(r[6]?"hex":"hex-flex")+" svelte-p0kxbr"))&&_(e,"class",t)},i(r){s||(d(i.$$.fragment,r),s=!0)},o(r){k(i.$$.fragment,r),s=!1},d(r){r&&g(e),R(i)}}}function ue(a,e){let i,l,t,s,r,o,n,f,c=e[16]===e[4].length-e[5]&&ne(e);s=new X({props:{categoryFn:e[0],idx:e[16],category:e[14],sourceElemArr:e[8],imgElemArr:e[7]}});let h=e[16]===e[4].length-1&&oe(e);return{key:a,first:null,c(){i=F(),c&&c.c(),l=C(),t=y("li"),P(s.$$.fragment),o=C(),h&&h.c(),n=F(),this.h()},l(m){i=F(),c&&c.l(m),l=M(m),t=v(m,"LI",{class:!0});var u=I(t);O(s.$$.fragment,u),u.forEach(g),o=M(m),h&&h.l(m),n=F(),this.h()},h(){_(t,"class",r=D(e[6]?"hex":"hex-flex")+" svelte-p0kxbr"),this.first=i},m(m,u){E(m,i,u),c&&c.m(m,u),E(m,l,u),E(m,t,u),B(s,t,null),E(m,o,u),h&&h.m(m,u),E(m,n,u),f=!0},p(m,u){e=m,e[16]===e[4].length-e[5]?c?(c.p(e,u),u&48&&d(c,1)):(c=ne(e),c.c(),d(c,1),c.m(l.parentNode,l)):c&&(L(),k(c,1,1,()=>{c=null}),S());const N={};u&1&&(N.categoryFn=e[0]),u&16&&(N.idx=e[16]),u&16&&(N.category=e[14]),s.$set(N),(!f||u&64&&r!==(r=D(e[6]?"hex":"hex-flex")+" svelte-p0kxbr"))&&_(t,"class",r),e[16]===e[4].length-1?h?(h.p(e,u),u&16&&d(h,1)):(h=oe(e),h.c(),d(h,1),h.m(n.parentNode,n)):h&&(L(),k(h,1,1,()=>{h=null}),S())},i(m){f||(d(c),d(s.$$.fragment,m),d(h),f=!0)},o(m){k(c),k(s.$$.fragment,m),k(h),f=!1},d(m){m&&g(i),c&&c.d(m),m&&g(l),m&&g(t),R(s),m&&g(o),h&&h.d(m),m&&g(n)}}}function Ge(a){let e,i,l=Me(a);return{c(){l&&l.c(),e=F()},l(t){l&&l.l(t),e=F()},m(t,s){l&&l.m(t,s),E(t,e,s),i=!0},p(t,[s]){l.p(t,s)},i(t){i||(d(l),i=!0)},o(t){k(l),i=!1},d(t){l&&l.d(t),t&&g(e)}}}function De(a,e,i){let l,t,s,r,o,{data:n=[]}=e,{categoryFn:f}=e,{showFullPage:c=!0}=e;const h=b=>new Array(b).fill(void 0);let m=n.length>0?[...h(n.length)]:[],u=n.length>0?[...h(n.length)]:[],N,w,G=!1;return a.$$set=b=>{"data"in b&&i(9,n=b.data),"categoryFn"in b&&i(0,f=b.categoryFn),"showFullPage"in b&&i(1,c=b.showFullPage)},a.$$.update=()=>{a.$$.dirty&512&&i(4,l=n.filter(b=>Ce(b)||xe(b)&&b.NominalCode!=="NOT_WEB"&&b.NominalCode!=="CLASSES")),a.$$.dirty&16&&(i(2,w=ve(window.innerWidth)/2),i(6,G=ke(window.innerWidth,l.length))),a.$$.dirty&20&&i(10,t=l.length>w?be(l.length,w,1):1),a.$$.dirty&1024&&i(12,s=Math.floor(t%2===0?t/2:(t-1)/2)),a.$$.dirty&5124&&i(11,r=t*w-s),a.$$.dirty&2064&&i(3,o=r-l.length>0?h(r-l.length):[]),a.$$.dirty&1036&&t&&i(5,N=(t%2===0?w-1:w)-o.length)},[f,c,w,o,l,N,G,m,u,n,t,r,s]}class Te extends K{constructor(e){super();z(this,e,De,Ge,Q,{data:9,categoryFn:0,showFullPage:1})}}export{Te as H};
